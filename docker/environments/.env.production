# ===========================================
# 生产环境配置
# ===========================================

COMPOSE_PROJECT_NAME=moonshot-prod
COMPOSE_PROFILES=prod,monitoring

# 数据库配置
POSTGRES_DB=moonshot
POSTGRES_USER=postgres
POSTGRES_PASSWORD=${POSTGRES_PASSWORD}
POSTGRES_HOST_AUTH_METHOD=md5

# Redis配置
REDIS_PASSWORD=${REDIS_PASSWORD}

# MinIO配置
MINIO_ROOT_USER=${MINIO_ROOT_USER}
MINIO_ROOT_PASSWORD=${MINIO_ROOT_PASSWORD}

# API服务配置
API_PORT=8080
GIN_MODE=release
DEBUG=false

# 工作节点配置
RULE_WORKER_REPLICAS=3
AI_WORKER_REPLICAS=2

# AI服务配置
KIMI_API_KEY=${KIMI_API_KEY}

# LLM服务配置
LLM_SERVICE_PORT=8090
LLM_SERVICE_EXTERNAL_PORT=
LLM_MAX_WORKERS=20
LLM_MAX_QUEUE_SIZE=2000
LLM_TASK_TIMEOUT=10m
LLM_ENABLE_CORS=false
LLM_ENABLE_WEBSOCKET=true
LLM_ENABLE_METRICS=true
LLM_AUTH_TOKEN=${LLM_AUTH_TOKEN}
LLM_ENABLE_DEBUG=false
LLM_SERVICE_CPU_LIMIT=2
LLM_SERVICE_MEMORY_LIMIT=2G
LLM_SERVICE_CPU_RESERVATION=1
LLM_SERVICE_MEMORY_RESERVATION=1G

# 向量数据库配置
ETCD_PORT=2379
ETCD_CLIENT_PORT=23379
MINIO_PORT=9000
MINIO_ADMIN_PORT=9001
MILVUS_PORT=19530
MILVUS_HTTP_PORT=9091

# 监控配置
GRAFANA_PASSWORD=${GRAFANA_PASSWORD}
PROMETHEUS_RETENTION=200h

# 网络配置
NETWORK_NAME=moonshot-prod

# 端口映射配置 (生产环境不暴露内部端口)
POSTGRES_EXTERNAL_PORT=
REDIS_EXTERNAL_PORT=
MINIO_EXTERNAL_PORT=
MINIO_CONSOLE_EXTERNAL_PORT=
API_EXTERNAL_PORT=
PDF_VALIDATOR_EXTERNAL_PORT=
LLM_SERVICE_EXTERNAL_PORT=
FLOWER_EXTERNAL_PORT=
GRAFANA_EXTERNAL_PORT=3000
PROMETHEUS_EXTERNAL_PORT=9090
LOKI_EXTERNAL_PORT=3100
ETCD_EXTERNAL_PORT=
MILVUS_EXTERNAL_PORT=
MILVUS_HTTP_EXTERNAL_PORT=

# SSL配置
SSL_ENABLED=true
SSL_CERT_PATH=./ssl/cert.pem
SSL_KEY_PATH=./ssl/key.pem

# 系统配置
DOMAIN_NAME=${DOMAIN_NAME}
TZ=Asia/Shanghai
PROJECT_ROOT=../../..