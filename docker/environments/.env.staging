# ===========================================
# 测试环境配置
# ===========================================

COMPOSE_PROJECT_NAME=moonshot-staging
COMPOSE_PROFILES=simple,monitoring

# 数据库配置
POSTGRES_DB=moonshot
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres_staging_pass_123
POSTGRES_HOST_AUTH_METHOD=md5
POSTGRES_BATCH_SIZE=500

# Redis配置
REDIS_PASSWORD=redis_staging_pass_123

# MinIO配置
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minio_staging_pass_123

# API服务配置
API_PORT=8080
GIN_MODE=release
DEBUG=false

# 工作节点配置
RULE_WORKER_REPLICAS=2
AI_WORKER_REPLICAS=2

# AI服务配置
KIMI_API_KEY=${KIMI_API_KEY}

# LLM服务配置
LLM_SERVICE_PORT=8090
LLM_SERVICE_EXTERNAL_PORT=8090
LLM_MAX_WORKERS=15
LLM_MAX_QUEUE_SIZE=1500
LLM_TASK_TIMEOUT=5m
LLM_ENABLE_CORS=true
LLM_ENABLE_WEBSOCKET=true
LLM_ENABLE_METRICS=true
LLM_AUTH_TOKEN=${LLM_AUTH_TOKEN}
LLM_ENABLE_DEBUG=false
LLM_SERVICE_CPU_LIMIT=1.5
LLM_SERVICE_MEMORY_LIMIT=1.5G
LLM_SERVICE_CPU_RESERVATION=0.8
LLM_SERVICE_MEMORY_RESERVATION=512M

# 向量数据库配置
ETCD_PORT=2379
ETCD_CLIENT_PORT=23379
MINIO_PORT=9000
MINIO_ADMIN_PORT=9001
MILVUS_PORT=19530
MILVUS_HTTP_PORT=9091

# 监控配置
GRAFANA_PASSWORD=grafana_staging_pass_123
PROMETHEUS_RETENTION=48h

# 网络配置
NETWORK_NAME=moonshot-staging

# 端口映射配置 (staging环境选择性暴露端口)
POSTGRES_EXTERNAL_PORT=
REDIS_EXTERNAL_PORT=
MINIO_EXTERNAL_PORT=
MINIO_CONSOLE_EXTERNAL_PORT=
API_EXTERNAL_PORT=8080
PDF_VALIDATOR_EXTERNAL_PORT=8001
LLM_SERVICE_EXTERNAL_PORT=8090
FLOWER_EXTERNAL_PORT=5555
GRAFANA_EXTERNAL_PORT=3000
PROMETHEUS_EXTERNAL_PORT=9090
LOKI_EXTERNAL_PORT=3100

# SSL配置
SSL_ENABLED=false

# 系统配置
HOSTNAME=staging.localhost
DOMAIN_NAME=staging.localhost
TZ=Asia/Shanghai
PROJECT_ROOT=../../..