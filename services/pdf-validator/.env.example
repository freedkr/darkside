# PDF Validator Service Environment Configuration

# 服务基础配置
SERVICE_NAME=pdf-validator-service
VERSION=1.0.0
DEBUG=false
HOST=0.0.0.0
PORT=8001
WORKER_COUNT=4
AUTO_START_WORKER=false

# 数据库配置 - 使用独立环境变量
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=moonshot
DATABASE_USER=postgres
DATABASE_PASSWORD=password
DATABASE_SCHEMA=moonshot
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# Redis配置
REDIS_URL=redis://localhost:6379/0
REDIS_MAX_CONNECTIONS=20

# Celery配置
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true

# 对象存储配置 (MinIO/S3)
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET_NAME=pdf-files
MINIO_SECURE=false

# PDF处理配置
PDF_MAX_FILE_SIZE=52428800  # 50MB
PDF_PROCESSING_TIMEOUT=300  # 5分钟
PDF_EXTRACT_IMAGES=true
PDF_EXTRACT_TABLES=true
PDF_EXTRACT_SNAPSHOTS=true  # 提取页面快照
PDF_SNAPSHOT_DPI=150  # 页面快照DPI
PDF_GENERATE_THUMBNAILS=true  # 生成缩略图

# 任务队列配置
VALIDATION_QUEUE_NAME=pdf_validation_tasks
PRIORITY_QUEUE_NAME=pdf_priority_tasks
DEAD_LETTER_QUEUE_NAME=pdf_failed_tasks
MAX_RETRY_ATTEMPTS=3
TASK_TIMEOUT=600  # 10分钟

# 监控配置
ENABLE_PROMETHEUS=true
LOG_LEVEL=INFO
LOG_FORMAT=json

# API配置
API_V1_PREFIX=/api/v1

# Go服务集成配置
MOONSHOT_SERVICE_URL=http://localhost:8080
NOTIFICATION_WEBHOOK_URL=